<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NBO</title>
  <link rel="stylesheet" href="style.css" />
</head>
<header class="header">
  <div class="menu">
    <a class="personal">Personal</a>
    <a class="business">Business</a>
    <a class="store">Stores</a>
    <a class="espanol">Espa√±ol</a>
    <div class="logo">
    </div>
    <hr class="line1">
    <img class="vector" src="./images/Vector.png" alt="verizon logo">
</header>

<body>
  <div>
    <h1>Here's what's in your cart.</h1>
    <hr />
  </div>
  <div>
    <img src="./images/apple-iphone-13-green-2022 1.png" alt="iPhone13">
  </div>
  <div class="iphone">Apple iPhone13</div>
  <div class="edit">Edit</div>
  <div class="price">$799.00</div>
  <p class="remove">Remove</p>
  <button>1 + </button>
  <div>
    <hr class="line4">
    <h3 class="order">Order summary</h3>
    <div class="title-iphone">Apple iPhone13</div>
    <div class="price-iphone">$799.00</div>
    <div class="taxes">Estimated taxes</div>
    <div class="price-tax">$80.00</div>
    <div class="total">Total</div>
    <div class="price-total">$879.00</div>
    <hr class="line5">
    <button class="button-order"><a class="place-order">Place Order</a></button>
  </div>
  <div>
    <a class="shipping">Shipping</a>
    <hr class="line6">
    <hr class="line7">
    <a class="pickup">Pickup</a>
  </div>
  <hr class="line8">

  <footer>
    <img class="footer-image" src="./images/vz-2_rgb_r 1.png" alt="verizon">
    <a class="footer-link">Site Maps</a>
    <a class="footer-link">Privacy Policy</a>
    <a class="footer-link">Accessibility</a>
    <a class="footer-link">Open Interest</a>
    <a class="footer-link">Terms & Conditions</a>
    <a class="copyright"> &copy 2022 verizon</a>
  </footer>

  <script>

    var deviceId = localStorage.getItem("device");
    var accessoryId = localStorage.getItem("accessory");
    var planId = localStorage.getItem("plan");
    console.log("device= " + deviceId);
    console.log("accessory= " + accessoryId);
    console.log("plan= " + planId);

    let url = "https://mdmce.demopersistent.com/mdm_rest/api/v1/integrations/catalogs/Accessory_Catalog/items/" + accessoryId;

    //let url = 'https://onemdm-dev.ebiz.verizon.com/mdm_rest/api/v1/integrations/catalogs/'+type+'_Catalog/items/';
    //let base64 = require('base-64');
    var type = "Accessory_Catalog";
    fetch(url, {
      //mode: 'cors',
      method: "GET",
      headers: {
        "Content-type": "application/json;charset=UTF-8",
        "Authorization": "Basic QWRtaW46dHJpbml0cm9u",
        "x-company": "verizon_nbo"
        //"Access-Control-Allow-Origin": "*"
      }
    })

      .then(response => response.json())
      .then(data => {
        //console.log(data);

        for (var i = 0; i < data.entryInfoList.length; i++) {
          //console.log(data.entryInfoList[i].primaryKey);
          entry_data = data.entryInfoList[i].entryData;
          entry_dataStrObj = JSON.parse(JSON.stringify(entry_data).replaceAll("/", "_"))
          entry_dataStrObj = JSON.parse(JSON.stringify(entry_dataStrObj).replaceAll(type + "_", ""));
          console.log(entry_dataStrObj);
        }
      })

  </script>
</body>

</html>